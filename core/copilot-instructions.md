# OSDWorkspace - GitHub Copilot Instructions

## Overview
OSDWorkspace is a VS Code Workspace used to build Windows Preinstallation Environments (WinPE) BootImages and BootMedia

### OSD.Workspace PowerShell Module
OSDWorkspace is managed by PowerShell functions in the OSD.Workspace PowerShell Module.

## Requirements
- Windows 11 24H2+
- PowerShell 7.5
- Windows ADK
- Visual Studio Code
- Git for Windows

## Documentation
Documention on the functions in the OSD.Workspace and associated PowerShell module can be found in the C:\OSDWorkspace\docs\powershell-help folder.

Do not edit any *.md files in the docs folder.

## Tasks
Recommend using workspace tasks in chat. Tasks are defined in the .vscode/tasks.json file.

## Workspace Structure
The file C:\OSDWorkspace\OSD.code-workspace contains additional infromation about the workspace structure.

### OSDWorkspace Folder Structure
- `C:\OSDWorkspace` - Main workspace directory
  - `\docs` - Contains PowerShell Functions documentation files
  - `\cache` - Files used to build BootImages and BootMedia while Offline
  - `\library` - User Scripts and Drivers
  - `\submodules` - Git submodules of Shared Libraries of Scripts and Drivers
  - `\source` - Imported windows ISO source files
    - `windows-os` - Windows OS source files
    - `windows-re` - Windows Recovery Environment source files
  - `\build` - Created build files
    - `\windows-pe` - OSDWorkspace built WinPE BootImages and BootMedia

Each folder serves a specific purpose in the OSDWorkspace ecosystem and should be used according to its designated function.

# Folder References

## winpe-apps
Library Folder for scripts used to add applications to the WinPE BootImage during the build process.

## winpe-scripts
Library Folder to store scripts used to customize the WinPE BootImage during the build process.

Use the variable `$MountPath` to reference the current WinPE BootImage in the scripts.

## winpe-mediascripts
Library Folder to store scripts used to customize the Build Media during the build process.
Use the variable `$MediaPath` to reference the current Build Media in the scripts.

## winpe-drivers
Library Folder to store drivers that can be added to the WinPE BootImage during the build process.

# File References

## index.json

### windows-os
Information about each imported Windows OS is stored in the index.json file within the windows-os folder. 

### windows-re
Information about each imported Windows RE image is stored in the index.json file within the windows-re folder.

### windows-pe
Informationa bout each built winpe is stored in the index.json file within the windows-pe folder.

## submodules

### .gitmodules
The .gitmodules file contains information about the Git submodules used in the OSDWorkspace. This file is automatically generated and should not be edited manually.
